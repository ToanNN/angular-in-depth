<style>
  input.ng-dirty.ng-invalid {
    border: 2px solid #ff0000;
  }
  input.ng-dirty.ng-valid {
    border: 2px solid #6bc502;
  }
</style>

<form
  class="m-2"
  novalidate
  [formGroup]="productFormGroup"
  (ngSubmit)="submitForm()"
>
  <div
    class="bg-danger text-white p-2 mb-2"
    *ngIf="submittingForm && productFormGroup.invalid"
  >
    There are problems with the form
    <ul>
      <li *ngFor="let error of productFormGroup.getFormValidationMessages()">
        {{ error }}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>Name</label>
    <input class="form-control" name="name" formControlName="name" />
    <ul
      class="text-danger list-unstyled"
      *ngIf="
        productFormGroup.controls['name'].dirty &&
        productFormGroup.controls['name'].invalid
      "
    >
      <li *ngFor="let error of productFormGroup.getValidationMessages('name')">
        {{ error }}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>Category</label>
    <input class="form-control" name="category" formControName="category" />
    <ul
      class="text-danger list-unstyled"
      *ngIf="
        productFormGroup.controls['category'].dirty &&
        productFormGroup.controls['category'].invalid
      "
    >
      <li
        *ngFor="let error of productFormGroup.getValidationMessages('category')"
      >
        {{ error }}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>Price</label>
    <input class="form-control" name="price" formControlName="price" />
    <ul
      class="text-danger list-unstyled"
      *ngIf="
        (submittingForm || productFormGroup.controls['price'].dirty) &&
        productFormGroup.controls['price'].invalid
      "
    >
      <li *ngFor="let error of productFormGroup.getValidationMessages('price')">
        {{ error }}
      </li>
    </ul>
  </div>
  <button
    class="btn btn-primary"
    type="submit"
    [disabled]="productFormGroup.invalid"
    [class.btn-secondary]="productFormGroup.invalid"
  >
    Create
  </button>
</form>
